<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>POL
Scripting Reference</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><meta content="POL, EScript, documentation" name="keyword">
<meta content="Racalac, Rykard" name="Author"><style type="text/css">BODY {
FONT-WEIGHT: normal; FONT-SIZE: 8pt; COLOR: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif
}
TD {
FONT-WEIGHT: normal; FONT-SIZE: 8pt; COLOR: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif
}
P {
FONT-WEIGHT: normal; FONT-SIZE: 8pt; COLOR: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif
}
</style></head>
<body style="background-color: rgb(240, 240, 240);"><p style="font-weight: bold; font-size: 14pt; text-align: left;">File:
Unicode.em</p>
<p style="font-weight: bold; font-size: 10pt; text-align: left;">Description:
Functions that allow messages to be sent to clients in any unicode
language UO supports.<br>Last Modified: 1/22/2003</p>
<p>File Constants: </p><pre><ul>const _DEFAULT_UCFONT := 3;<br>const _DEFAULT_UCCOLOR := 0x3B2;<br></ul></pre>
<p></p><a name="BroadcastUC"> </a><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"> <tbody> <tr><th colspan="2" align="center">BroadcastUC(uc_text,
langcode, font:=_DEFAULT_UCFONT, color:=_DEFAULT_UCCOLOR)</th></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Parameters:</th></tr></tbody>
<tbody> <tr bgcolor="#d4d4d4"> <td>Name</td>
<td>Type</td></tr></tbody> <tbody> <tr>
<td width="50%"><var>uc_text</var></td> <td>Array
of 2-byte integers, where each integer is a Unicode character</td></tr>
<tr> <td width="50%"><var>langcode</var></td>
<td>3-character 'Originating Language' string code e.g. ENU, CHT,
DEU, RUS, KOR, etc.</td></tr> <tr> <td width="50%"><var>font</var></td> <td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr>
<tr> <td width="50%"><var>color</var></td>
<td>Integer (optional) color code. Not the same color as the same
value for non-unicode prints</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Explanation</th></tr></tbody>
<tbody> <tr> <td colspan="2">Broadcasts a
unicode string to all players</td></tr> <tr> <td colspan="2">uc_text MUST be an array of integers
representing unicode characters.</td></tr> <tr> <td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr> <tr> <td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr> <tr> <td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Return values</th></tr></tbody>
<tbody> <tr> <td colspan="2">1 on success</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Errors</th></tr></tbody> <tbody>
<tr> <td colspan="2">"Unicode array exceeds maximum
size." (200 characters)</td></tr> <tr> <td colspan="2">"langcode must be a 3-character code."</td></tr>
<tr> <td colspan="2">"Invalid value in Unicode
array."</td></tr> <tr> <td colspan="2">"A
parameter was invalid"</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Related</th></tr></tbody> <tbody>
<tr> <td colspan="2"><a href="objref.html#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br>
<a name="PrintTextAbovePrivateUC"> </a><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"> <tbody> <tr><th colspan="2" align="center">PrintTextAbovePrivateUC(above_object,
uc_text, langcode, character, font:=_DEFAULT_UCFONT,
color:=_DEFAULT_UCCOLOR)</th></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Parameters:</th></tr></tbody>
<tbody> <tr bgcolor="#d4d4d4"> <td>Name</td>
<td>Type</td></tr></tbody> <tbody> <tr>
<td width="50%"><var>above_object</var></td>
<td>UObject reference</td></tr> <tr> <td width="50%"><var>uc_text</var></td> <td>Array
of 2-byte integers, where each integer is a Unicode character</td></tr>
<tr> <td width="50%"><var>langcode</var></td>
<td>3-character 'Originating Language' string code e.g. ENU, CHT,
DEU, RUS, KOR, etc.</td></tr> <tr> <td width="50%"><var>character</var></td> <td>Character
reference to receive the text</td></tr> <tr> <td width="50%"><var>font</var></td> <td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr>
<tr> <td width="50%"><var>color</var></td>
<td>Integer (optional) color code. Not the same color as the same
value for non-unicode prints</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Explanation</th></tr></tbody>
<tbody> <tr> <td colspan="2">Displays a
unicode string above 'above_object' only to 'character'</td></tr>
<tr> <td colspan="2">uc_text MUST be an array of
integers representing unicode characters.</td></tr> <tr>
<td colspan="2">Integers must be "Big Endian" (0x1234) and
not "Little Endian" (0x3412).</td></tr> <tr> <td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr> <tr> <td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Return values</th></tr></tbody>
<tbody> <tr> <td colspan="2">1 on success, 0
on failure</td></tr></tbody> <tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Errors</th></tr></tbody>
<tbody> <tr> <td colspan="2">"Unicode array
exceeds maximum size." (200 characters)</td></tr> <tr>
<td colspan="2">"langcode must be a 3-character code."</td></tr>
<tr> <td colspan="2">"Invalid value in Unicode
array."</td></tr> <tr> <td colspan="2">"A
parameter was invalid"</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Related</th></tr></tbody> <tbody>
<tr> <td colspan="2"><a href="objref.html#Array"><b>Array</b></a></td></tr>
<tr> <td colspan="2"><a href="objref.html#UObject"><b>UObject</b></a></td></tr>
<tr> <td colspan="2"><a href="objref.html#Character"><b>Character</b></a></td></tr></tbody></table><br><br><br>
<a name="PrintTextAboveUC"> </a><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"> <tbody> <tr><th colspan="2" align="center">PrintTextAboveUC(above_object,
uc_text, langcode, font:=_DEFAULT_UCFONT, color:=_DEFAULT_UCCOLOR)</th></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Parameters:</th></tr></tbody>
<tbody> <tr bgcolor="#d4d4d4"> <td>Name</td>
<td>Type</td></tr></tbody> <tbody> <tr>
<td width="50%"><var>above_object</var></td>
<td>UObject reference</td></tr> <tr> <td width="50%"><var>uc_text</var></td> <td>Array
of 2-byte integers, where each integer is a Unicode character</td></tr>
<tr> <td width="50%"><var>langcode</var></td>
<td>3-character 'Originating Language' string code e.g. ENU, CHT,
DEU, RUS, KOR, etc.</td></tr> <tr> <td width="50%"><var>font</var></td> <td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr>
<tr> <td width="50%"><var>color</var></td>
<td>Integer (optional) color code. Not the same color as the same
value for non-unicode prints</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Explanation</th></tr></tbody>
<tbody> <tr> <td colspan="2">Displays a
unicode string above 'above_object'</td></tr> <tr> <td colspan="2">uc_text MUST be an array of integers
representing unicode characters.</td></tr> <tr> <td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr> <tr> <td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr> <tr> <td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Return values</th></tr></tbody>
<tbody> <tr> <td colspan="2">1 on success, 0
on failure</td></tr></tbody> <tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Errors</th></tr></tbody>
<tbody> <tr> <td colspan="2">"Unicode array
exceeds maximum size." (200 characters)</td></tr> <tr>
<td colspan="2">"langcode must be a 3-character code."</td></tr>
<tr> <td colspan="2">"Invalid value in Unicode
array."</td></tr> <tr> <td colspan="2">"A
parameter was invalid"</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Related</th></tr></tbody> <tbody>
<tr> <td colspan="2"><a href="objref.html#Array"><b>Array</b></a></td></tr>
<tr> <td colspan="2"><a href="objref.html#UObject"><b>UObject</b></a></td></tr></tbody></table><br><br><br>
<a name="RequestInputUC"> </a><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"> <tbody> <tr><th colspan="2" align="center">RequestInputUC(character,
item, uc_prompt, langcode)</th></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Parameters:</th></tr></tbody>
<tbody> <tr bgcolor="#d4d4d4"> <td>Name</td>
<td>Type</td></tr></tbody> <tbody> <tr>
<td width="50%"><var>character</var></td>
<td>Character reference to receive the text</td></tr>
<tr> <td width="50%"><var>item</var></td>
<td>placeholder, pass any valid item</td></tr> <tr>
<td width="50%"><var>uc_prompt</var></td>
<td>Array of 2-byte integers, where each integer is a Unicode
character. The question to which the player types the response.</td></tr>
<tr> <td width="50%"><var>langcode</var></td>
<td>3-character 'Originating Language' string code e.g. ENU, CHT,
DEU, RUS, KOR, etc.</td></tr></tbody> <tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Explanation</th></tr></tbody>
<tbody> <tr> <td colspan="2">Displays a
unicode system message prompt to 'character', the character can then
enter unicode characters which will be returned to the script.</td></tr>
<tr> <td colspan="2">uc_prompt MUST be an array of
integers representing unicode characters.</td></tr> <tr>
<td colspan="2">Integers must be "Big Endian" (0x1234) and
not "Little Endian" (0x3412).</td></tr> <tr> <td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr> <tr> <td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Return values</th></tr></tbody>
<tbody> <tr> <td colspan="2">a struct with
members "lang" (3-character string), and "uc_text" (a "unicode array"
of 2-byte integers representing unicode characters in the specified
language) on success.</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Errors</th></tr></tbody> <tbody>
<tr> <td colspan="2">"No client attached"</td></tr>
<tr> <td colspan="2">"Another script has an active
prompt"</td></tr> <tr> <td colspan="2">"Unicode
array exceeds maximum size." (200 characters)</td></tr> <tr>
<td colspan="2">"langcode must be a 3-character code."</td></tr>
<tr> <td colspan="2">"Invalid value in Unicode
array."</td></tr> <tr> <td colspan="2">"Invalid
control characters in text entry"</td></tr> <tr> <td colspan="2">"A parameter was invalid"</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Related</th></tr></tbody> <tbody>
<tr> <td colspan="2"><a href="objref.html#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br>
<a name="SendSysMessageUC"> </a><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"> <tbody> <tr><th colspan="2" align="center">SendSysMessageUC(character,
uc_text, langcode, font:=_DEFAULT_UCFONT, color:=_DEFAULT_UCCOLOR)</th></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Parameters:</th></tr></tbody>
<tbody> <tr bgcolor="#d4d4d4"> <td>Name</td>
<td>Type</td></tr></tbody> <tbody> <tr>
<td width="50%"><var>character</var></td>
<td>Character reference to receive the text</td></tr>
<tr> <td width="50%"><var>uc_text</var></td>
<td>Array of 2-byte integers, where each integer is a Unicode
character</td></tr> <tr> <td width="50%"><var>langcode</var></td>
<td>3-character 'Originating Language' string code e.g. ENU, CHT,
DEU, RUS, KOR, etc.</td></tr> <tr> <td width="50%"><var>font</var></td> <td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr>
<tr> <td width="50%"><var>color</var></td>
<td>Integer (optional) color code. Not the same color as the same
value for non-unicode prints</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Explanation</th></tr></tbody>
<tbody> <tr> <td colspan="2">Displays a
unicode system message to 'character'</td></tr> <tr>
<td colspan="2">uc_text MUST be an array of integers
representing unicode characters.</td></tr> <tr> <td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr> <tr> <td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr> <tr> <td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Return values</th></tr></tbody>
<tbody> <tr> <td colspan="2">1 on success</td></tr></tbody>
<tbody> <tr bgcolor="#cccccc"> <th colspan="2" align="left">Errors</th></tr></tbody> <tbody>
<tr> <td colspan="2">"Unicode array exceeds maximum
size." (200 characters)</td></tr> <tr> <td colspan="2">"langcode must be a 3-character code."</td></tr>
<tr> <td colspan="2">"Invalid value in Unicode
array."</td></tr> <tr> <td colspan="2">"A
parameter was invalid"</td></tr></tbody> <tbody>
<tr bgcolor="#cccccc"> <th colspan="2" align="left">Related</th></tr></tbody> <tbody>
<tr> <td colspan="2"><a href="objref.html#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br>
<hr><p style="font-weight: bold; font-size: 9pt; text-align: center;">If
you know if any information is incorrect on these pages, mail your
corrections to racalac@burdell.org </p>
<p style="font-weight: bold; font-size: 7pt; text-align: center;">Copyright
©2003 David Carpman, all rights reserved. DO NOT REPRODUCE, MIRROR,
ALTER, SPINDLE, MUTILATE, OR SIT ON. </p></body></html>