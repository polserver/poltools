<!DOCTYPE html PUBLIC "-//W3C//XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>POL Scripting Reference</title>
<meta name="keyword" content="POL, EScript, documentation, Ultima Online, UO, packets, client, ultima online client, emulator">
<meta name="description" content="Penultima Online Documentation website."> <meta name="Author" content="Racalac, Rykard"> <meta name="Generator" content="POL Doc-o-matic"> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> <meta http-equiv="Content-Style-Type" content="text/css"> <style type="text/css"><!-- body,td,p { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 8pt; font-weight: normal; color: #000000} --></style></head>


	<body style="background-color: rgb(240, 240, 240);">
<p style="font-size: 14pt; font-weight: bold; text-align: left;">
File: Cliloc.em</p><p style="font-size: 10pt; font-weight: bold; text-align: left;">
Description: Functions for sending Cliloc (Client Localized) messages
to the Client.<br> Last Modified: 10/27/2007</p><p>
File Constants: </p><pre><ul>const _DEFAULT_CLFONT := 3;<br>const _DEFAULT_CLCOLOR := 0x3B2;<br></ul></pre><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="PrintTextAboveCL">PrintTextAboveCL(character,
cliloc_num, uc_text:={}, font:=_DEFAULT_CLFONT, color:=_DEFAULT_CLCOLOR)</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>character</var></td><td>Character
reference to receive the text</td></tr><tr><td width="50%"><var>cliloc_num</var></td><td>Cliloc
Number you wish to be displayed.</td></tr><tr><td width="50%"><var>uc_text</var></td><td>Array
of 2-byte integers, where each integer is a Unicode character. Only
used when the cliloc accepts arguments for replacement.</td></tr><tr><td width="50%"><var>font</var></td><td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr><tr><td width="50%"><var>color</var></td><td>Integer
(optional) color code. Not the same color as the same value for
non-unicode prints</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Displays a Cliloc (Client Localized) message
above 'character'. Arguments for the cliloc itself are seperated with a
tab (\t) character.</td></tr><tr><td colspan="2">uc_text
MUST be an array of integers representing unicode characters.</td></tr><tr><td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr><tr><td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr><tr><td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr><tr><td colspan="2"> </td></tr><tr><td colspan="2"><pre> Argument example: <br> Cliloc Number: 1042762: <br> Cliloc ENU String: "Only ~1_AMOUNT~ gold could be deposited. A check for ~2_CHECK_AMOUNT~ gold was returned to you."<br> The uc_text string may have "100 thousand\t25 hundred", which in turn would modify the string:<br> "Only 100 thousand gold could be deposited. A check for 25 hundred gold was returned to you."<br> </pre></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 on success</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Unicode array exceeds maximum size." (200
characters)</td></tr><tr><td colspan="2">"Invalid
value in Unicode array."</td></tr><tr><td colspan="2">"A parameter was invalid"</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related</th></tr></tbody><tbody><tr><td colspan="2"><a href="objref.php#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="PrintTextAbovePrivateCL">PrintTextAbovePrivateCL(character,
object, cliloc_num, uc_text:={}, font:=_DEFAULT_CLFONT,
color:=_DEFAULT_CLCOLOR)</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>character</var></td><td>Character
reference to receive the text</td></tr><tr><td width="50%"><var>object</var></td><td>UObject
reference to print the text above</td></tr><tr><td width="50%"><var>cliloc_num</var></td><td>Cliloc
Number you wish to be displayed.</td></tr><tr><td width="50%"><var>uc_text</var></td><td>Array
of 2-byte integers, where each integer is a Unicode character. Only
used when the cliloc accepts arguments for replacement.</td></tr><tr><td width="50%"><var>font</var></td><td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr><tr><td width="50%"><var>color</var></td><td>Integer
(optional) color code. Not the same color as the same value for
non-unicode prints</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Displays a Cliloc (Client Localized) message
above 'character'. Arguments for the cliloc itself are seperated with a
tab (\t) character.</td></tr><tr><td colspan="2">uc_text
MUST be an array of integers representing unicode characters.</td></tr><tr><td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr><tr><td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr><tr><td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr><tr><td colspan="2"> </td></tr><tr><td colspan="2"><pre> Argument example: <br> Cliloc Number: 1042762: <br> Cliloc ENU String: "Only ~1_AMOUNT~ gold could be deposited. A check for ~2_CHECK_AMOUNT~ gold was returned to you."<br> The uc_text string may have "100 thousand\t25 hundred", which in turn would modify the string:<br> "Only 100 thousand gold could be deposited. A check for 25 hundred gold was returned to you."<br> </pre></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 on success</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Unicode array exceeds maximum size." (200
characters)</td></tr><tr><td colspan="2">"Invalid
value in Unicode array."</td></tr><tr><td colspan="2">"A parameter was invalid"</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related</th></tr></tbody><tbody><tr><td colspan="2"><a href="objref.php#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="SendSysMessageCL">SendSysMessageCL(character,
cliloc_num, uc_text:={}, font:=_DEFAULT_CLFONT, color:=_DEFAULT_CLCOLOR)</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>character</var></td><td>Character
reference to receive the text</td></tr><tr><td width="50%"><var>cliloc_num</var></td><td>Cliloc
Number you wish to be displayed.</td></tr><tr><td width="50%"><var>uc_text</var></td><td>Array
of 2-byte integers, where each integer is a Unicode character. Only
used when the cliloc accepts arguments for replacement.</td></tr><tr><td width="50%"><var>font</var></td><td>Integer
(optional) font code. Not the same as non-unicode font codes</td></tr><tr><td width="50%"><var>color</var></td><td>Integer
(optional) color code. Not the same color as the same value for
non-unicode prints</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Displays a Cliloc (Client Localized) system
message to 'character'. Arguments for the cliloc itself are seperated
with a tab (\t) character.</td></tr><tr><td colspan="2">uc_text MUST be an array of integers
representing unicode characters.</td></tr><tr><td colspan="2">Integers must be "Big Endian" (0x1234) and not
"Little Endian" (0x3412).</td></tr><tr><td colspan="2">Integers will be clipped internally to 2-bytes
(value masked with 0xFFFF)</td></tr><tr><td colspan="2">The Array must be terminated with zero. (0x0000)</td></tr><tr><td colspan="2"> </td></tr><tr><td colspan="2"><pre> Argument example: <br> Cliloc Number: 1042762: <br> Cliloc ENU String: "Only ~1_AMOUNT~ gold could be deposited. A check for ~2_CHECK_AMOUNT~ gold was returned to you."<br> The uc_text string may have "100 thousand\t25 hundred", which in turn would modify the string:<br> "Only 100 thousand gold could be deposited. A check for 25 hundred gold was returned to you."<br> </pre></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 on success</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Unicode array exceeds maximum size." (200
characters)</td></tr><tr><td colspan="2">"Invalid
value in Unicode array."</td></tr><tr><td colspan="2">"A parameter was invalid"</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related</th></tr></tbody><tbody><tr><td colspan="2"><a href="objref.php#Array"><b>Array</b></a></td></tr></tbody></table><br><br><br>
<hr> <p style="font-size: 9pt; font-weight: bold; text-align: center;">
If you <i>know</i> if any information is incorrect on
these pages, mail your corrections to polteam@polserver.com </p>
<p style="font-size: 7pt; font-weight: bold; text-align: center;">
Copyright ©2003-2006 David Carpman and POL Development Team, all rights
reserved. DO NOT REPRODUCE, MIRROR, ALTER, SPINDLE, MUTILATE, OR SIT
ON. </p> </body></html>